(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{4581:function(e,t,n){Promise.resolve().then(n.bind(n,9997))},5168:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(9268),r=n(6006),s=n(335),l=n(4182);function u(){let[e,t]=(0,r.useState)({}),n=(0,s.I0)();(0,r.useEffect)(()=>{let e=async()=>{try{let e=await fetch("https://www.cbr-xml-daily.ru/daily_json.js"),n=await e.json();t(n)}catch(e){console.error(e)}};e()},[]);let u=()=>{let t=e.Valute||{};n((0,l.w$)(t.USD.Value)),n((0,l.tP)(t.USD.Previous)),n((0,l.Mo)(t.EUR.Value)),n((0,l.ly)(t.EUR.Previous))};return(0,r.useEffect)(()=>{"object"==typeof e&&null!==e&&Object.keys(e).length>0&&u()},[e]),(0,a.jsx)("div",{})}},9997:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(9268),r=n(6006),s=n(939),l=n.n(s),u=n(5168),c=n(335),i=n(4182);function o(){let e=(0,c.I0)(),t=(0,c.v9)(i.T4),[n,s]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[h,v]=(0,r.useState)(1),[U,E]=(0,r.useState)(1),y=[{value:"RUB",conversionRate:1,label:"RUB"},{value:"USD",conversionRate:t.purchasePriceUSD,label:"USD"},{value:"EUR",conversionRate:t.purchasePriceEUR,label:"EUR"}];function j(e){if(e.includes(".")&&e.split(".")[1].length>2)return!1;let t=e.slice(-1);return!!["1","2","3","4","5","6","7","8","9","0"].includes(t)}let R=t=>{if(0===t.length&&""===t&&(t="0"),j(t)){console.log("f usd=",t,h,U);let n=parseFloat(t);e((0,i.gj)(n)),e((0,i.Hi)(parseFloat((n*h/U).toFixed(2)))),s("")}else s("введено не допустимое значение")},S=t=>{if(0===t.length&&""===t&&(t="0"),j(t)){console.log("f usd=",t,h,U);let n=parseFloat(t);e((0,i.Hi)(n)),e((0,i.gj)(parseFloat((n*U/h).toFixed(2)))),s("")}else s("введено не допустимое значение")};return(0,a.jsxs)("div",{className:l().wrapper,children:[(0,a.jsx)(u.Z,{}),(0,a.jsxs)("section",{className:l().sectionUsd,children:[(0,a.jsx)("select",{onChange:e=>{let t=e.target.value;d(t);let n=y.find(e=>e.value===t);n&&v(n.conversionRate),console.log("2=",h),S("0")},value:o,id:"contactAnswer",name:"answer",children:y.map((e,t)=>(0,a.jsx)("option",{value:e.value,children:e.label},t))}),(0,a.jsx)("input",{type:"number",id:"usdInput",value:0===t.USD?"":t.USD,onChange:e=>R(e.target.value)}),!!n&&(0,a.jsx)("p",{className:l().invalidValue,children:n})]}),(0,a.jsxs)("section",{className:l().sectionEur,children:[(0,a.jsx)("select",{onChange:e=>{let t=e.target.value;f(t);let n=y.find(e=>e.value===t);n&&E(n.conversionRate),console.log("2=",U),R("0")},value:p,id:"contactAnswer",name:"answer",children:y.map((e,t)=>(0,a.jsx)("option",{value:e.value,children:e.label},t))}),(0,a.jsx)("input",{type:"number",id:"eurInput",value:0===t.EUR?"":t.EUR,onChange:e=>S(e.target.value)}),(0,a.jsx)("p",{children:!!n&&(0,a.jsx)(a.Fragment,{children:n})})]})]})}},4182:function(e,t,n){"use strict";n.d(t,{Hi:function(){return u},Mo:function(){return c},T4:function(){return s},gj:function(){return l},ly:function(){return o},tP:function(){return d},w$:function(){return i}});var a=n(8804);let r=(0,a.oM)({name:"currency",initialState:{USD:0,EUR:0,salePriceUSD:0,purchasePriceUSD:0,salePriceEUR:0,purchasePriceEUR:0},reducers:{updateUsd:(e,t)=>{e.USD=t.payload},updateEur:(e,t)=>{e.EUR=t.payload},updatePurchaseUsd:(e,t)=>{e.purchasePriceUSD=t.payload},updatePurchaseEur:(e,t)=>{e.purchasePriceEUR=t.payload},updateSaleUsd:(e,t)=>{e.salePriceUSD=t.payload},updateSaleEur:(e,t)=>{e.salePriceEUR=t.payload}}}),s=e=>e.currencys,{updateUsd:l,updateEur:u,updatePurchaseEur:c,updatePurchaseUsd:i,updateSaleEur:o,updateSaleUsd:d}=r.actions;t.ZP=r.reducer},939:function(e){e.exports={fontHelveticaNeueCyr:"HelveticaNeueCyr,sans-serif",fontBarlow:"Barlow,sans-serif",colorRedLight:"#ef233c",colorRedDark:"#d90429",wrapper:"styles_wrapper__Gr4pY",sectionUsd:"styles_sectionUsd__EHXXr",sectionEur:"styles_sectionEur__e0lGh"}}},function(e){e.O(0,[811,253,769,744],function(){return e(e.s=4581)}),_N_E=e.O()}]);